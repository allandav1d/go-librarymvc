{{define "layout"}}
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    {{template "styles" .}}
</head>

<body class="p-4 sm:p-6 md:p-8">
    <div class="mx-auto max-w-7xl bg-white rounded-xl shadow-2xl overflow-hidden">

        <!-- Header -->
        <div class="bg-gradient-to-r from-slate-800 to-slate-700 text-white px-6 py-5">
            <div class="flex justify-between items-center">
                <h1 class="text-2xl sm:text-3xl font-light">ðŸ“š Sistema de Biblioteca</h1>
                <span class="text-sm opacity-80 hidden sm:inline">API: http://localhost:8080</span>
            </div>
        </div>

        <!-- Flash Message -->
        {{if .FlashMessage}}
        <div class="flash-animate px-6 py-4 border-b {{if eq .FlashType "success"}}alert-success{{else if eq .FlashType "error"}}alert-destructive{{else if eq .FlashType "warning"}}alert-warning{{else}}alert-info{{end}}">
            {{.FlashMessage}}
        </div>
        {{end}}

        <!-- Navigation Tabs -->
        <div class="flex flex-col sm:flex-row bg-slate-50 border-b border-slate-200">
            <a href="/" class="px-6 py-4 text-slate-600 hover:bg-white hover:text-slate-900 transition-colors border-b-2 {{if eq .ActiveSection "dashboard"}}border-blue-500 bg-white text-slate-900{{else}}border-transparent{{end}}">
                <span class="text-sm sm:text-base">ðŸ“Š Dashboard</span>
            </a>
            <a href="/books" class="px-6 py-4 text-slate-600 hover:bg-white hover:text-slate-900 transition-colors border-b-2 {{if eq .ActiveSection "books"}}border-blue-500 bg-white text-slate-900{{else}}border-transparent{{end}}">
                <span class="text-sm sm:text-base">ðŸ“– Livros</span>
            </a>
            <a href="/users" class="px-6 py-4 text-slate-600 hover:bg-white hover:text-slate-900 transition-colors border-b-2 {{if eq .ActiveSection "users"}}border-blue-500 bg-white text-slate-900{{else}}border-transparent{{end}}">
                <span class="text-sm sm:text-base">ðŸ‘¥ UsuÃ¡rios</span>
            </a>
            <a href="/loans" class="px-6 py-4 text-slate-600 hover:bg-white hover:text-slate-900 transition-colors border-b-2 {{if eq .ActiveSection "loans"}}border-blue-500 bg-white text-slate-900{{else}}border-transparent{{end}}">
                <span class="text-sm sm:text-base">ðŸ”„ EmprÃ©stimos</span>
            </a>
        </div>

        <!-- Content Area -->
        <div class="p-6 sm:p-8">
            {{if eq .ActiveSection "dashboard"}}
            {{template "dashboard" .}}
            {{else if eq .ActiveSection "books"}}
            {{template "books" .}}
            {{else if eq .ActiveSection "users"}}
            {{template "users" .}}
            {{else if eq .ActiveSection "loans"}}
            {{template "loans" .}}
            {{else}}
            {{template "dashboard" .}}
            {{end}}
        </div>
    </div>

    <!-- Modals -->
    {{template "modals" .}}
</body>

</html>
{{end}}
